<ng-container *transloco="let t">
  <div class="mb-8">
    <h2 class="text-2xl text-center text-gray-900">
      {{ t('Hi') }} {{ accountlookup.firstname }}
    </h2>

    <div class="mt-2 text-center">
      <div [routerLink]="['/','oauth2', 'choose-account']" [queryParams]="{ login_hint: undefined}" queryParamsHandling="merge">
        <div class="inline-flex max-w-full justify-around py-1 px-1 ring-1 ring-gray-300 rounded-2xl items-center cursor-pointer hover:bg-gray-50">
          <div class="left w-6 h-6 mr-2 rounded-full flex justify-center items-center text-xs bg-gray-300 text-blue-900 font-medium">
            {{ acronym }}
          </div>
          <div class="flex-1 overflow-hidden">
            <div class="text-sm font-medium tracking-wide text-gray-600 truncate" title="{{ username }}">
              {{ username }}
            </div>
          </div>
          <div class="w-5 h-5 ml-2">
            <svg aria-hidden="true" class="w-full h-full" fill="currentColor" focusable="false" width="24px" height="24px" viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg">
              <polygon points="12,16.41 5.29,9.71 6.71,8.29 12,13.59 17.29,8.29 18.71,9.71"></polygon>
            </svg>
          </div>
        </div>
      </div>
    </div>

  </div>
  <form #f="ngForm" [formGroup]="form" (ngSubmit)="f.valid && onSubmit()" novalidate>

    <input type="hidden" name="username" value="{{ username }}" tabindex="-1" spellcheck="false" autocomplete="off">
    <div class="outline relative m-px ring-1 ring-gray-300 rounded bg-white focus-within:ring-2 focus-within:ring-navy-500">
      <input formControlName="password" #pwd type="password" id="password" name="password" placeholder=" " autocomplete="current-password" class="appearance-none border-none block w-full p-4 py-3 text-gray-900 placeholder-gray-500 focus:ring-0 bg-transparent" />
      <label for="password" class="absolute top-0 text-gray-500 rounded p-4 py-3 duration-150 origin-0 select-none pointer-events-none">{{ t('Enter your password') }}</label>
    </div>

    <ng-container *ngIf="f.submitted && form.controls['password'].invalid">
      <ng-container *ngIf="form.controls['password'].errors?.required">
        <div class="flex text-xs text-red-600 mt-1">
          <div class="mr-2">
            <svg aria-hidden="true" fill="currentColor" focusable="false" width="16px" height="16px" viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></svg>
          </div>
          <div class="flex-1">
            <span>{{ t('Enter a password.') }}</span>
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="f.submitted && form.controls['password'].errors?.badPassword">
        <div class="flex text-xs text-red-600 mt-1">
          <div class="mr-2">
            <svg aria-hidden="true" fill="currentColor" focusable="false" width="16px" height="16px" viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></svg>
          </div>
          <div class="flex-1">
            <span>{{ t('Wrong password. Try again or click Forgot password to reset it.') }}</span>
          </div>
        </div>
      </ng-container>
    </ng-container>

    <div class="flex items-center mt-2">
      <input #showPwd (click)="showRawPassword(pwd, showPwd.checked)" id="show-password" name="show-password" type="checkbox" class="h-4 w-4 border-gray-300 rounded-sm focus:ring-0 focus:ring-offset-0 checked:text-navy-500 checked:border-navy-500">
      <label for="show-password" class="ml-2 block text-sm text-gray-900">
        {{ t('Show password') }}
      </label>
    </div>

    <div class="flex items-center justify-between mt-8">
      <a href="#" class="p-2 -m-2 rounded text-sm text-navy-500 hover:text-blue-900 hover:bg-navy-50 focus:bg-navy-100">
        {{ t('Forgot password?') }}
      </a>
      <button type="submit" class="py-2 px-6 border-none text-sm rounded text-white bg-navy-500 hover:bg-navy-600 focus:outline-none focus:bg-navy-700">
        {{ t('Next') }}
      </button>
    </div>

  </form>
</ng-container>
